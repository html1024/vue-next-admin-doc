import{_ as s,c as a,o as n,a as l}from"./app.38114f82.js";const A=JSON.parse('{"title":"打包预览","description":"","frontmatter":{},"headers":[{"level":2,"title":"打包","slug":"打包","link":"#打包","children":[{"level":3,"title":"1. .env 文件","slug":"_1-env-文件","link":"#_1-env-文件","children":[]},{"level":3,"title":"2. 打包后链接效果","slug":"_2-打包后链接效果","link":"#_2-打包后链接效果","children":[]},{"level":3,"title":"3. 打包命令","slug":"_3-打包命令","link":"#_3-打包命令","children":[]}]},{"level":2,"title":"预览","slug":"预览","link":"#预览","children":[{"level":3,"title":"1. 本地预览","slug":"_1-本地预览","link":"#_1-本地预览","children":[]},{"level":3,"title":"2. 线上预览","slug":"_2-线上预览","link":"#_2-线上预览","children":[]}]}],"relativePath":"config/build/index.md","lastUpdated":1677256498000}'),e={name:"config/build/index.md"},p=l(`<h1 id="打包预览" tabindex="-1">打包预览 <a class="header-anchor" href="#打包预览" aria-hidden="true">#</a></h1><div class="tip custom-block"><p class="custom-block-title">开始之前</p><p>框架中使用基于原生 ES-Module 的前端构建工具 Vite，您可能需要了解 <a href="https://vitejs.cn/config/" target="_blank" rel="noreferrer">Vite 配置</a></p></div><h2 id="打包" tabindex="-1">打包 <a class="header-anchor" href="#打包" aria-hidden="true">#</a></h2><h3 id="_1-env-文件" tabindex="-1">1. .env 文件 <a class="header-anchor" href="#_1-env-文件" aria-hidden="true">#</a></h3><p>根目录 <code>.env</code> 文件，去了解 <a href="/vue-next-admin-doc-preview/config/server/#env-文件">.env-文件</a>。<code>/vue-next-admin-preview/</code> 为预览仓库 <a href="https://gitee.com/lyt-top/vue-next-admin-preview" target="_blank" rel="noreferrer">vue-next-admin-preview</a> 的仓库名，打包时得根据具体情况进行修改打包路径。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># public path 配置线上环境路径（打包）、本地通过 http-server 访问时，请置空即可</span></span>
<span class="line"><span style="color:#FFCB6B;">VITE_PUBLIC_PATH</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/vue-next-admin-preview/</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-打包后链接效果" tabindex="-1">2. 打包后链接效果 <a class="header-anchor" href="#_2-打包后链接效果" aria-hidden="true">#</a></h3><p>注意看下图 <code>圈起来</code> 红色部分路径。</p><img src="https://img-blog.csdnimg.cn/1f5484d02645451d94ccfffab1cb09db.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbHl0LXRvcA==,size_20,color_FFFFFF,t_70,g_se,x_16"><h3 id="_3-打包命令" tabindex="-1">3. 打包命令 <a class="header-anchor" href="#_3-打包命令" aria-hidden="true">#</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 项目根目录运行</span></span>
<span class="line"><span style="color:#FFCB6B;">cnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 或者，package.json 中，鼠标放入 build 上点击 \`运行脚本\`</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  &quot;</span><span style="color:#C3E88D;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">vite build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"></span></code></pre></div><h2 id="预览" tabindex="-1">预览 <a class="header-anchor" href="#预览" aria-hidden="true">#</a></h2><h3 id="_1-本地预览" tabindex="-1">1. 本地预览 <a class="header-anchor" href="#_1-本地预览" aria-hidden="true">#</a></h3><ul><li>本地预览必须把：根目录 <code>.env</code> 文件中的 <code>VITE_PUBLIC_PATH</code> 置空</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">VITE_PUBLIC_PATH</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span></span>
<span class="line"></span></code></pre></div><ul><li>安装 <code>http-server</code> 插件，或者拖到 <code>HBuilderX</code> 中去</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 安装</span></span>
<span class="line"><span style="color:#FFCB6B;">cnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http-server</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 运行，打包后的 dist 文件夹里打开 cmd</span></span>
<span class="line"><span style="color:#FFCB6B;">http-server</span></span>
<span class="line"></span></code></pre></div><ul><li>或者在 <code>package.json</code> 中添加脚本</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vite --force</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vite build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">lint-fix</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eslint --fix --ext .js --ext .jsx --ext .vue src/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">serve</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http-server ./dist</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 项目根目录运行</span></span>
<span class="line"><span style="color:#A6ACCD;">cnpm run serve</span></span>
<span class="line"></span></code></pre></div><ul><li>成功代码</li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">λ</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">serve</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> vue-next-admin@1.2.0 serve C:\\Users\\Desktop\\vue-next-admin</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> http-server ./dist</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Starting</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http-server,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">serving</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./dist</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">http-server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">settings:</span></span>
<span class="line"><span style="color:#FFCB6B;">CORS:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">disabled</span></span>
<span class="line"><span style="color:#FFCB6B;">Cache:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3600</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">seconds</span></span>
<span class="line"><span style="color:#FFCB6B;">Connection</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Timeout:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">120</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">seconds</span></span>
<span class="line"><span style="color:#FFCB6B;">Directory</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Listings:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">visible</span></span>
<span class="line"><span style="color:#FFCB6B;">AutoIndex:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">visible</span></span>
<span class="line"><span style="color:#FFCB6B;">Serve</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">GZIP</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Files:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#FFCB6B;">Serve</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Brotli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Files:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#FFCB6B;">Default</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">File</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Extension:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">none</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Available</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">http://10.111.171.255:8080</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">http://127.0.0.1:8080</span></span>
<span class="line"><span style="color:#FFCB6B;">Hit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CTRL-C</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-线上预览" tabindex="-1">2. 线上预览 <a class="header-anchor" href="#_2-线上预览" aria-hidden="true">#</a></h3><p>部署到服务器，方法 <a href="https://www.baidu.com/" target="_blank" rel="noreferrer">自行前往学习</a>。</p>`,23),o=[p];function t(c,r,i,C,y,D){return n(),a("div",null,o)}const F=s(e,[["render",t]]);export{A as __pageData,F as default};
